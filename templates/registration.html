{% extends "base.html" %} {% block title %}Signup{% endblock %}
{% block content%}
<!DOCTYPE html>
<html lang="en">
      <head>
        <link rel="stylesheet" type="text/css" href="/style.css">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">   
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
        crossorigin="anonymous"
      />
      <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
        crossorigin="anonymous"
      />
        <title>Login</title>
      </head>

<body>



<form action="{{ url_for('register') }}" method="post">
    <br/>
    <br/>
    <h3 align = "centre" >Sign Up</h3>
    <div class = "form-group" >
        <label for = "email">Email Address</label>
        <input type = "email" class = "form-control" id = "email" name = "email" placeholder="Enter email">
    </div>
    <div class = "form-group">
        <label for = "firstName">First Name</label>
        <input type = "text" class = "form-control" id = "firstname" name = "name" placeholder="Enter firstname">
    </div>
    <div class = "form-group">
        <label for = "password1">Password</label>
        <input type = "password" class = "form-control" id = "password" name = "password" placeholder="Enter first password">
    </div>
    <br>
    <label for = "FavouriteTeamLabel">Please Select Your Favourite Premier League Team</label>
    <select name="favouriteTeam" id="favouriteTeamDd" style="width:100%"> 
      <option disabled select >Please select an option</option>
      <option value="33" id="33" >Manchester United</option>
      <option value="34" id="34" >Newcastle</option>
      <option value="38" id="38" >Watford</option>
      <option value="39" id="39" >Wolves</option>
      <option value="40" id="40" >Liverpool</option>
      <option value="41" id="41" >Southampton</option>
      <option value="42" id="42" >Arsenal</option>
      <option value="44" id="44" >Burnley</option>
      <option value="45" id="45" >Everton</option>
      <option value="46" id="46" >Leicester</option>
      <option value="47" id="47" >Tottenham</option>
      <option value="48" id="48" >West Ham</option>
      <option value="49" id="49" >Chelsea</option>
      <option value="50" id="50" >Manchester City</option>
      <option value="51" id="51" >Brighton</option>
      <option value="52" id="52" >Crystal Palace</option>
      <option value="55" id="55" >Brentford</option>
      <option value="63" id="63" >Leeds</option>
      <option value="66" id="66" >Aston Villa</option>
      <option value="71" id="71" >Norwich</option>

    </select>
    <label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
    <br/>
    <button type = "submit" class = "btn btn-primary" id="registerbutton">Submit</button>
</form>

</body>

</html>


<script type="text/javascript">
  function IsEmail(email) {
          var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
          if(!regex.test(email)) {
             return false;
          }else{
             return true;
          }
        }
  
  $( "#registerbutton" ).click(function() {
      console.log("here");
      let emailValue = $("#emailAddress").val();
      let name = $("#name").val();
      let password = $("#password").val();

      let pattern = /^\b[A-Z0-9._%-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b$/i
  
      if(name.length < 3) {
        alert("please enter a name")
        return false;
      }
  
      if(password.length < 8) {
        alert("Please enter atleast 8 characters for your password");
        return false;
      }
  
      // validation to check if the emails are working
      if(IsEmail(emailValue)==false || emailValue == ""){
        alert("Email is invalid");
        return false;
      } 
  });

  </script>
  {% endblock %}